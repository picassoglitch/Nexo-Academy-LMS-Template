# LearnHouse Self-Hosting Environment Variables
# Copy this file to .env and customize the values for your deployment
# cp env.example .env

# =============================================================================
# Domain & Hosting Configuration
# =============================================================================

# Your domain name (e.g., learnhouse.example.com or localhost for local testing)
LEARNHOUSE_DOMAIN=localhost

# HTTP port for Nginx (default: 80)
HTTP_PORT=80

# =============================================================================
# Frontend Environment Variables (NEXT_PUBLIC_*)
# =============================================================================

# API endpoint URL (should be /api/v1/ relative to your domain)
NEXT_PUBLIC_LEARNHOUSE_API_URL=http://localhost/api/v1/

# Backend URL (usually same as domain root)
NEXT_PUBLIC_LEARNHOUSE_BACKEND_URL=http://localhost/

# Domain configuration
NEXT_PUBLIC_LEARNHOUSE_DOMAIN=localhost
NEXT_PUBLIC_LEARNHOUSE_TOP_DOMAIN=localhost

# Multi-organization mode (true/false)
NEXT_PUBLIC_LEARNHOUSE_MULTI_ORG=False

# Default organization slug (used when multi-org is disabled)
NEXT_PUBLIC_LEARNHOUSE_DEFAULT_ORG=default

# Use HTTPS (true/false) - set to true if using HTTPS in production
NEXT_PUBLIC_LEARNHOUSE_HTTPS=False

# Media URL (optional, defaults to backend URL)
# NEXT_PUBLIC_LEARNHOUSE_MEDIA_URL=

# Unsplash API key for image picker (optional)
# NEXT_PUBLIC_UNSPLASH_ACCESS_KEY=

# =============================================================================
# NextAuth Configuration
# =============================================================================

# Your application URL (use https:// in production with SSL)
NEXTAUTH_URL=http://localhost

# Generate a random secret: openssl rand -base64 32
NEXTAUTH_SECRET=changeme

# Google OAuth (optional)
# LEARNHOUSE_GOOGLE_CLIENT_ID=
# LEARNHOUSE_GOOGLE_CLIENT_SECRET=

# =============================================================================
# Backend Configuration
# =============================================================================

# Database connection string
# Format: postgresql://user:password@host:port/database
# Default uses the internal 'db' service from docker-compose
LEARNHOUSE_SQL_CONNECTION_STRING=postgresql://learnhouse:learnhouse@db:5432/learnhouse

# Redis connection string
# Format: redis://host:port/database
# Default uses the internal 'redis' service from docker-compose
LEARNHOUSE_REDIS_CONNECTION_STRING=redis://redis:6379/learnhouse

# Cookie domain (use .yourdomain.com for subdomain cookies)
LEARNHOUSE_COOKIE_DOMAIN=.localhost

# Backend port (internal, usually 9000)
LEARNHOUSE_PORT=9000

# =============================================================================
# Security
# =============================================================================

# JWT secret key (generate a random secret: openssl rand -base64 32)
LEARNHOUSE_AUTH_JWT_SECRET_KEY=changeme

# Initial admin email (used when creating the first admin user during installation)
# If not set, defaults to "admin@school.dev"
LEARNHOUSE_INITIAL_ADMIN_EMAIL=admin@school.dev

# Initial admin password (used when creating the first admin user during installation)
# If not set, a random 8-character password will be generated
LEARNHOUSE_INITIAL_ADMIN_PASSWORD=your-secure-password-here

# =============================================================================
# General Settings
# =============================================================================

# Development mode (true/false) - should be false in production
LEARNHOUSE_DEVELOPMENT_MODE=False

# Install mode (true/false) - enables installation wizard
LEARNHOUSE_INSTALL_MODE=False

# Enable Logfire observability (true/false)
LEARNHOUSE_LOGFIRE_ENABLED=False

# =============================================================================
# AI Configuration (Optional)
# =============================================================================

# OpenAI API key for AI features
# LEARNHOUSE_OPENAI_API_KEY=

# Enable AI features (true/false)
LEARNHOUSE_IS_AI_ENABLED=False

# =============================================================================
# Email Configuration (Optional)
# =============================================================================

# Resend API key for sending emails
# LEARNHOUSE_RESEND_API_KEY=

# System email address
# LEARNHOUSE_SYSTEM_EMAIL_ADDRESS=noreply@yourdomain.com

# =============================================================================
# Payment Configuration (Optional)
# =============================================================================

# Stripe configuration
# LEARNHOUSE_STRIPE_SECRET_KEY=
# LEARNHOUSE_STRIPE_PUBLISHABLE_KEY=
# LEARNHOUSE_STRIPE_WEBHOOK_STANDARD_SECRET=
# LEARNHOUSE_STRIPE_WEBHOOK_CONNECT_SECRET=
# LEARNHOUSE_STRIPE_CLIENT_ID=

# =============================================================================
# Content Delivery (Optional)
# =============================================================================

# Content delivery type: filesystem or s3api
LEARNHOUSE_CONTENT_DELIVERY_TYPE=filesystem

# S3 configuration (if using s3api)
# LEARNHOUSE_S3_API_BUCKET_NAME=
# LEARNHOUSE_S3_API_ENDPOINT_URL=

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL credentials (used by the 'db' service)
POSTGRES_USER=learnhouse
POSTGRES_PASSWORD=learnhouse
POSTGRES_DB=learnhouse

